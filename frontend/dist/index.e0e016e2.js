let e,t;async function n(e){try{let t=await fetch(e);return(await t.json()).results}catch(e){console.error("Error fetching data:",e)}}async function a(){if(!window.ethereum)throw Error("Please install MetaMask!");let e=new ethers.providers.Web3Provider(window.ethereum);return await e.send("eth_requestAccounts",[]),e.getSigner()}async function o(n,o){let r=new FormData(document.getElementById(n)),l={};for(let[e,t]of r.entries())l[e]=t;let s=await a(),i=new ethers.Contract(e,t,s);try{console.log(e);let t=await i[n](...Object.values(l)),a=JSON.stringify(t,null,2);Toastify({close:!0,duration:-1,text:a,className:"info",style:{background:"linear-gradient(to right, #00b09b, #96c93d)"}}).showToast(),console.log("Transaction sent:",t)}catch(e){Toastify({close:!0,duration:-1,text:e.message,className:"error"}).showToast(),console.error("Error calling function:",e)}}void 0===window.ethereum&&alert("Please use browser supporting DApps!"),new ethers.providers.Web3Provider(window.ethereum),window.addEventListener("load",async()=>{(function(e){let t=document.getElementById("selectContract");t.innerHTML='<option value="">Select</option>',e.forEach(e=>{let n=document.createElement("option");n.value=JSON.stringify(e.json_abi)+"-"+e.contract_address,new ethers.Contract(e.contract_address,e.json_abi),n.textContent=e?.contract_name+" ("+e.contract_address+")",t.appendChild(n)})})(await n("smartcontract.json")),document.getElementById("selectContract").addEventListener("change",async n=>{let a=n.target.value.split("-");e=a[1],t=JSON.parse(a[0]),function(){let e=document.getElementById("abiForm");e.innerHTML="",t.forEach(t=>{if("function"===t.type){let a=t.inputs.map(e=>`<input type="text" name="${e.name}" placeholder="${e.name}" class="block w-full border rounded-md px-2 py-1">`).join(""),o=`<label class="block mb-2">State Mutability: ${t.stateMutability}</label>`,r=`<button type="button" web3fnc="${t.name}" web3sm="${t.stateMutability}" class="inline-flex items-center px-4 py-2 bg-blue-500 hover:bg-blue-700 text-white font-bold rounded-md">Call ${t.name}</button>`,l=document.createElement("fieldset");l.innerHTML=`<legend class="font-bold">${t.name}</legend>${o}${a}${r}`;var n=document.createElement("form");n.setAttribute("id",t.name),e.appendChild(n).appendChild(l)}}),document.querySelectorAll("button").forEach(e=>{e.addEventListener("click",()=>{o(e.getAttribute("web3fnc"),e.getAttribute("web3sm"))})})}()})});
//# sourceMappingURL=index.e0e016e2.js.map
